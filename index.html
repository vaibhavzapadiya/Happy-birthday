submit() {
  if (this.userForm.valid) {
    if (this.editemode && this.editindex !== null) {
      if (this.userForm.value.status === 'active') {
        // Count active users on the current page only
        const activeUserCount = this.userlist.filter(user => user.status === 'active').length;

        if (activeUserCount >= 10) {
          this.errmsg = 'You cannot have more than 10 active users on this page.';
          return;
        }
      }

      // Proceed with editing the user
      this.userservice.edituser(this.editindex, this.userForm.value).subscribe(() => {
        // Update the local list and reset edit mode
        const userIndex = this.userlist.findIndex(user => user.id === this.editindex);
        if (userIndex !== -1) {
          this.userlist[userIndex] = { ...this.userlist[userIndex], ...this.userForm.value };
        }
        this.errmsg = ''; // Clear any error messages
      });
    } else {
      if (this.userForm.value.status === 'active') {
        // Count active users on the current page only
        const activeUserCount = this.userlist.filter(user => user.status === 'active').length;

        if (activeUserCount >= 10) {
          this.errmsg = 'You cannot have more than 10 active users on this page.';
          return;
        }
      }

      // Proceed with adding the user
      this.userservice.adduser(this.userForm.value).subscribe(newUser => {
        this.userlist.push(newUser); // Add the new user to the local list
        this.errmsg = ''; // Clear any error messages
      });
    }
  } else {
    this.errmsg = 'Please fill all the fields';
  }
}