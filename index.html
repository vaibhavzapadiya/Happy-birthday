<div class="form-group container">
    <form [formGroup]="addform" (ngSubmit)="onSubmit()">
        <div>
            <label for="name">Name:</label>
            <input id="name" formControlName="name" class="form-control" />
            <div *ngIf="addform.get('name')?.invalid && addform.get('name')?.touched" class="text-danger">
                Name is required.
            </div>
        </div>

        <div>
            <label for="email">Email:</label>
            <input id="email" formControlName="email" type="email"  class="form-control"/>
            <div *ngIf="addform.get('email')?.invalid && addform.get('email')?.touched" class="text-danger">
                Valid email is required.
            </div>
        </div>

        <div>

            <select name="department" id="department" formControlName="department" class="form-control">
                <option value="">select department</option>
                <option value="Sales">Sales</option>
                <option value="Marketing">Marketing</option>
                <option value="Tech">Tech</option>
            </select>
            
            <div *ngIf="addform.get('department')?.invalid && addform.get('department')?.touched" class="text-danger">
                Department is required.
            </div>
        </div>

        <button type="submit"  class="btn btn-primary">{{ editmode ? 'Update ' : 'Add ' }}</button>
        <button type="button" *ngIf="editmode" (click)="cancelEdit()" class="btn btn-warning">Cancel Edit</button>
    </form>

    <div *ngIf="errmsg" class="error text-danger" >{{ errmsg }}</div>

 
 
</div>

<div  class="container" id="diplayrecord">
    <h3>Employee List</h3>
<div >
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Department</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody *ngFor="let employee of employees; let i = index">
            <tr>
                <th> {{ employee.name }}</th>
                <th>{{ employee.email }}</th>
                <th>{{ employee.department }}</th>
                <th>   <button (click)="editemployee(i)"  class="btn btn-primary">Edit</button>     <button (click)="deleteemployee(i)" class="btn btn-danger">Delete</button></th>
            </tr>
        </tbody>
    </table>
</div>
</div>
